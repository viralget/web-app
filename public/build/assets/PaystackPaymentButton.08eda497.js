import{R as S}from"./app.8d903797.js";import{a as _}from"./api.be9011bd.js";import{c as b}from"./inline.c6606910.js";import{B as C}from"./Button.cbfdca42.js";import{t as m}from"./Toast.ce8232d8.js";const R=()=>new Date().getTime().toString(),d=({className:f,isLink:v,plan:i,successRedirectsTo:n,type:y,amount:s=0,email:u,metadata:p,paymentVerificationRoute:k,paymentDataExtras:P={},children:t,disabled:w=!1,postPaymentAction:o})=>{const g={key:"pk_test_aeb6c8866562f19305435788e0e28ae00aea71e4",email:u,metadata:p,amount:s*100,reference:R()};function l(){new b().newTransaction({...g,onSuccess:a=>{B({reference:a.reference})},onCancel:()=>{}})}const B=async({reference:e})=>{var c;const a={amount:s,plan:i,reference:e,type:y,payment_gateway:"paystack",...P},r=await _(k,a,!0);r.data.status?(m((c=r.data.message)!=null?c:"Payment successful!"),o&&o(e),n&&setInterval(()=>{window.location.href=n},300)):m.error("An error occurred. Please contact admin")};return S.createElement(C,{block:!0,usePrimary:!0,disabled:w,className:f,onClick:()=>{l()}},t!=null?t:"Make Payment")},M=d;export{M as P};

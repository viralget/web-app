import{r as a,R as h,L as ue}from"./app.b8327f69.js";import{C as V,I as G,y as H,b as se,n as z,j as te,o as x,L as pe,F as ie,N as ce,k as ve,u as K,p as j,$ as W,g as R,r as ne,l as de,S as q,d as oe,O as L,T as N,e as fe}from"./transition.5ff8d7c7.js";import{E as me,n as re,h as U,a as _,s as A}from"./use-event-listener.ca0badee.js";import{c as le}from"./helpers.b9fa7150.js";var Pe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Pe||{}),xe=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(xe||{});let be={[0]:e=>({...e,popoverState:K(e.popoverState,{[0]:1,[1]:0})}),[1](e){return e.popoverState===1?e:{...e,popoverState:1}},[2](e,o){return e.button===o.button?e:{...e,button:o.button}},[3](e,o){return e.buttonId===o.buttonId?e:{...e,buttonId:o.buttonId}},[4](e,o){return e.panel===o.panel?e:{...e,panel:o.panel}},[5](e,o){return e.panelId===o.panelId?e:{...e,panelId:o.panelId}}},J=a.exports.createContext(null);J.displayName="PopoverContext";function Q(e){let o=a.exports.useContext(J);if(o===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Q),n}return o}let X=a.exports.createContext(null);X.displayName="PopoverAPIContext";function Y(e){let o=a.exports.useContext(X);if(o===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Y),n}return o}let Z=a.exports.createContext(null);Z.displayName="PopoverGroupContext";function ae(){return a.exports.useContext(Z)}let ee=a.exports.createContext(null);ee.displayName="PopoverPanelContext";function Se(){return a.exports.useContext(ee)}function ye(e,o){return K(o.type,be,e,o)}let Ee="div",$e=V(function(e,o){var n;let m=`headlessui-popover-button-${G()}`,l=`headlessui-popover-panel-${G()}`,c=a.exports.useRef(null),E=H(o,se(t=>{c.current=t})),$=a.exports.useReducer(ye,{popoverState:1,button:null,buttonId:m,panel:null,panelId:l,beforePanelSentinel:a.exports.createRef(),afterPanelSentinel:a.exports.createRef()}),[{popoverState:d,button:s,panel:r,beforePanelSentinel:F,afterPanelSentinel:C},P]=$,p=z((n=c.current)!=null?n:s);a.exports.useEffect(()=>P({type:3,buttonId:m}),[m,P]),a.exports.useEffect(()=>P({type:5,panelId:l}),[l,P]);let v=a.exports.useMemo(()=>{if(!s||!r)return!1;for(let D of document.querySelectorAll("body > *"))if(Number(D==null?void 0:D.contains(s))^Number(D==null?void 0:D.contains(r)))return!0;let t=te(),u=t.indexOf(s),f=(u+t.length-1)%t.length,k=(u+1)%t.length,w=t[f],M=t[k];return!r.contains(w)&&!r.contains(M)},[s,r]),b=a.exports.useMemo(()=>({buttonId:m,panelId:l,close:()=>P({type:1})}),[m,l,P]),S=ae(),g=S==null?void 0:S.registerPopover,B=x(()=>{var t;return(t=S==null?void 0:S.isFocusWithinPopoverGroup())!=null?t:(p==null?void 0:p.activeElement)&&((s==null?void 0:s.contains(p.activeElement))||(r==null?void 0:r.contains(p.activeElement)))});a.exports.useEffect(()=>g==null?void 0:g(b),[g,b]),me(p==null?void 0:p.defaultView,"focus",t=>{var u,f,k,w;d===0&&(B()||!s||!r||(f=(u=F.current)==null?void 0:u.contains)!=null&&f.call(u,t.target)||(w=(k=C.current)==null?void 0:k.contains)!=null&&w.call(k,t.target)||P({type:1}))},!0),pe([s,r],(t,u)=>{P({type:1}),ie(u,ce.Loose)||(t.preventDefault(),s==null||s.focus())},d===0);let T=x(t=>{P({type:1});let u=(()=>t?t instanceof HTMLElement?t:"current"in t&&t.current instanceof HTMLElement?t.current:s:s)();u==null||u.focus()}),i=a.exports.useMemo(()=>({close:T,isPortalled:v}),[T,v]),I=a.exports.useMemo(()=>({open:d===0,close:T}),[d,T]),y=e,O={ref:E};return h.createElement(J.Provider,{value:$},h.createElement(X.Provider,{value:i},h.createElement(ve,{value:K(d,{[0]:j.Open,[1]:j.Closed})},W({ourProps:O,theirProps:y,slot:I,defaultTag:Ee,name:"Popover"}))))}),ge="button",Ie=V(function(e,o){let[n,m]=Q("Popover.Button"),{isPortalled:l}=Y("Popover.Button"),c=a.exports.useRef(null),E=`headlessui-focus-sentinel-${G()}`,$=ae(),d=$==null?void 0:$.closeOthers,s=Se(),r=s===null?!1:s===n.panelId,F=H(c,o,r?null:t=>t&&m({type:2,button:t})),C=H(c,o),P=z(c),p=x(t=>{var u,f,k;if(r){if(n.popoverState===1)return;switch(t.key){case R.Space:case R.Enter:t.preventDefault(),(f=(u=t.target).click)==null||f.call(u),m({type:1}),(k=n.button)==null||k.focus();break}}else switch(t.key){case R.Space:case R.Enter:t.preventDefault(),t.stopPropagation(),n.popoverState===1&&(d==null||d(n.buttonId)),m({type:0});break;case R.Escape:if(n.popoverState!==0)return d==null?void 0:d(n.buttonId);if(!c.current||(P==null?void 0:P.activeElement)&&!c.current.contains(P.activeElement))return;t.preventDefault(),t.stopPropagation(),m({type:1});break}}),v=x(t=>{r||t.key===R.Space&&t.preventDefault()}),b=x(t=>{var u,f;ne(t.currentTarget)||e.disabled||(r?(m({type:1}),(u=n.button)==null||u.focus()):(t.preventDefault(),t.stopPropagation(),n.popoverState===1&&(d==null||d(n.buttonId)),m({type:0}),(f=n.button)==null||f.focus()))}),S=x(t=>{t.preventDefault(),t.stopPropagation()}),g=n.popoverState===0,B=a.exports.useMemo(()=>({open:g}),[g]),T=de(e,c),i=e,I=r?{ref:C,type:T,onKeyDown:p,onClick:b}:{ref:F,id:n.buttonId,type:T,"aria-expanded":e.disabled?void 0:n.popoverState===0,"aria-controls":n.panel?n.panelId:void 0,onKeyDown:p,onKeyUp:v,onClick:b,onMouseDown:S},y=re(),O=x(()=>{let t=n.panel;if(!t)return;function u(){K(y.current,{[A.Forwards]:()=>L(t,N.First),[A.Backwards]:()=>L(t,N.Last)})}u()});return h.createElement(h.Fragment,null,W({ourProps:I,theirProps:i,slot:B,defaultTag:ge,name:"Popover.Button"}),g&&!r&&l&&h.createElement(U,{id:E,features:_.Focusable,as:"button",type:"button",onFocus:O}))}),he="div",Ce=q.RenderStrategy|q.Static,ke=V(function(e,o){let[{popoverState:n},m]=Q("Popover.Overlay"),l=H(o),c=`headlessui-popover-overlay-${G()}`,E=oe(),$=(()=>E!==null?E===j.Open:n===0)(),d=x(r=>{if(ne(r.currentTarget))return r.preventDefault();m({type:1})}),s=a.exports.useMemo(()=>({open:n===0}),[n]);return W({ourProps:{ref:l,id:c,"aria-hidden":!0,onClick:d},theirProps:e,slot:s,defaultTag:he,features:Ce,visible:$,name:"Popover.Overlay"})}),Te="div",Oe=q.RenderStrategy|q.Static,we=V(function(e,o){let{focus:n=!1,...m}=e,[l,c]=Q("Popover.Panel"),{close:E,isPortalled:$}=Y("Popover.Panel"),d=`headlessui-focus-sentinel-before-${G()}`,s=`headlessui-focus-sentinel-after-${G()}`,r=a.exports.useRef(null),F=H(r,o,i=>{c({type:4,panel:i})}),C=z(r),P=oe(),p=(()=>P!==null?P===j.Open:l.popoverState===0)(),v=x(i=>{var I;switch(i.key){case R.Escape:if(l.popoverState!==0||!r.current||(C==null?void 0:C.activeElement)&&!r.current.contains(C.activeElement))return;i.preventDefault(),i.stopPropagation(),c({type:1}),(I=l.button)==null||I.focus();break}});a.exports.useEffect(()=>{var i;e.static||l.popoverState===1&&((i=e.unmount)!=null?i:!0)&&c({type:4,panel:null})},[l.popoverState,e.unmount,e.static,c]),a.exports.useEffect(()=>{if(!n||l.popoverState!==0||!r.current)return;let i=C==null?void 0:C.activeElement;r.current.contains(i)||L(r.current,N.First)},[n,r,l.popoverState]);let b=a.exports.useMemo(()=>({open:l.popoverState===0,close:E}),[l,E]),S={ref:F,id:l.panelId,onKeyDown:v,onBlur:n&&l.popoverState===0?i=>{var I,y,O,t,u;let f=i.relatedTarget;!f||!r.current||(I=r.current)!=null&&I.contains(f)||(c({type:1}),(((O=(y=l.beforePanelSentinel.current)==null?void 0:y.contains)==null?void 0:O.call(y,f))||((u=(t=l.afterPanelSentinel.current)==null?void 0:t.contains)==null?void 0:u.call(t,f)))&&f.focus({preventScroll:!0}))}:void 0,tabIndex:-1},g=re(),B=x(()=>{let i=r.current;if(!i)return;function I(){K(g.current,{[A.Forwards]:()=>{L(i,N.First)},[A.Backwards]:()=>{var y;(y=l.button)==null||y.focus({preventScroll:!0})}})}I()}),T=x(()=>{let i=r.current;if(!i)return;function I(){K(g.current,{[A.Forwards]:()=>{var y,O,t;if(!l.button)return;let u=te(),f=u.indexOf(l.button),k=u.slice(0,f+1),w=[...u.slice(f+1),...k];for(let M of w.slice())if(((O=(y=M==null?void 0:M.id)==null?void 0:y.startsWith)==null?void 0:O.call(y,"headlessui-focus-sentinel-"))||((t=l.panel)==null?void 0:t.contains(M))){let D=w.indexOf(M);D!==-1&&w.splice(D,1)}L(w,N.First,!1)},[A.Backwards]:()=>L(i,N.Last)})}I()});return h.createElement(ee.Provider,{value:l.panelId},p&&$&&h.createElement(U,{id:d,ref:l.beforePanelSentinel,features:_.Focusable,as:"button",type:"button",onFocus:B}),W({ourProps:S,theirProps:m,slot:b,defaultTag:Te,features:Oe,visible:p,name:"Popover.Panel"}),p&&$&&h.createElement(U,{id:s,ref:l.afterPanelSentinel,features:_.Focusable,as:"button",type:"button",onFocus:T}))}),Be="div",Fe=V(function(e,o){let n=a.exports.useRef(null),m=H(n,o),[l,c]=a.exports.useState([]),E=x(p=>{c(v=>{let b=v.indexOf(p);if(b!==-1){let S=v.slice();return S.splice(b,1),S}return v})}),$=x(p=>(c(v=>[...v,p]),()=>E(p))),d=x(()=>{var p;let v=fe(n);if(!v)return!1;let b=v.activeElement;return(p=n.current)!=null&&p.contains(b)?!0:l.some(S=>{var g,B;return((g=v.getElementById(S.buttonId))==null?void 0:g.contains(b))||((B=v.getElementById(S.panelId))==null?void 0:B.contains(b))})}),s=x(p=>{for(let v of l)v.buttonId!==p&&v.close()}),r=a.exports.useMemo(()=>({registerPopover:$,unregisterPopover:E,isFocusWithinPopoverGroup:d,closeOthers:s}),[$,E,d,s]),F=a.exports.useMemo(()=>({}),[]),C=e,P={ref:m};return h.createElement(Z.Provider,{value:r},W({ourProps:P,theirProps:C,slot:F,defaultTag:Be,name:"Popover.Group"}))}),Ne=Object.assign($e,{Button:Ie,Overlay:ke,Panel:we,Group:Fe});function Ae({className:e,...o}){return h.createElement("div",{className:le("mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",e),...o})}function Ge({href:e,className:o,children:n}){return h.createElement(ue,{href:e,className:le("inline-block rounded-lg py-1 px-2 text-sm text-slate-700 hover:bg-slate-100 hover:text-slate-900",o)},n)}export{Ae as C,Ge as N,Ne as m};

import{b as x,r as d,R as t}from"./app.cc1b4b7f.js";import{g as b,a as v}from"./api.fa6cdb0c.js";import{t as u}from"./Toast.c0d4eeb6.js";function E({influencer:o}){const{auth:m}=x().props,{user:l}=m,[i,p]=d.exports.useState(!1),s=i||l.available_profiling_count<=0;d.exports.useEffect(()=>{n()},[]);async function n(){const a=await b(route("influencer.findprofiled",{id:o.id}),!0),{data:r}=a.data;r&&p(!0)}async function g(a){var c,f;a.preventDefault();const r={data:[{id:o.id}]},e=await v(route("create.profiling"),r,!0);(c=e==null?void 0:e.data)!=null&&c.status?(u((f=e==null?void 0:e.data)==null?void 0:f.message),n()):u.error("An error occured")}return t.createElement("div",{className:"absolute bottom-0 z-10 bg-white p-4  w-full border"},t.createElement("div",{className:"flex md:flex-row flex-col  justify-between"},t.createElement("button",{disabled:s,onClick:a=>g(a),className:s?" bg-viralget-red rounded-md px-5 py-2 text-white opacity-75":"bg-viralget-red rounded-md px-5 py-2 text-white cursor-pointer"},i?"Influencer Profiled":"Profile influencer"),t.createElement("div",{className:"flex space-x-1 md:mt-2  mt-2"},t.createElement("span",{className:"text-viralget-grey "},"Available to profile"),t.createElement("span",{className:"text-viralget-red"},l.available_profiling_count," influencers"))))}export{E as default};

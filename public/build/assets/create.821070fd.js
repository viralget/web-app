import{r as u,u as M,R as t,j as T}from"./app.ea44319b.js";import{A as H}from"./AuthenticatedLayout.0a2ff087.js";import{B as G}from"./ButtonBack.23a937fd.js";import{B as E}from"./Button.df288f59.js";import{c as w,g as N}from"./helpers.2c6296bd.js";import"./UploadImage.e416d84e.js";import"./inline.c6606910.js";import"./StripePaymentButton.451de3bb.js";import{t as k}from"./Toast.293a0c1c.js";import"./steps.cafb5108.js";import V from"./Details.d6a9cd0a.js";import q from"./Influencers.b001861f.js";import J from"./Contents.e04b35ef.js";import"./Logo.ae4aa33e.js";import"./DropdownMenu.a1ab961c.js";import"./Avatar.6ccefe61.js";import"./ChevronDownIcon.ca311321.js";import"./transition.9773836c.js";import"./keyboard.90499666.js";import"./XMarkIcon.e4157076.js";import"./Bars3CenterLeftIcon.d6c601f9.js";import"./MagnifyingGlassIcon.e01f1ad2.js";import"./description.a23524f9.js";import"./moment.9709ab41.js";import"./index.e8fcc329.js";import"./api.526e08f0.js";import"./Input.a072b440.js";import"./Label.3c77833f.js";import"./MultiSelect.f88a9a05.js";import"./Combination.b30ba370.js";import"./Select.a19bc75f.js";import"./TextArea.d76da7d4.js";function Ce({user:K,isEdit:d=!1,campaign:e}){const f=new URLSearchParams(window.location.search).get("tab"),[o,B]=u.exports.useState(f!=null?f:"details"),[S,v]=u.exports.useState(null),[F,C]=u.exports.useState(0),[z,A]=u.exports.useState(0),[R,Q]=u.exports.useState(d?"Update Campaign":"Create Campaign"),{data:_,setData:l,post:x,processing:j,errors:W,reset:X}=M({title:e==null?void 0:e.campaign_name,social_network:e==null?void 0:e.social_network,campaign_type:e==null?void 0:e.campaign_type,budget:e==null?void 0:e.budget,keywords:e==null?void 0:e.tracked_keywords,start_date:e==null?void 0:e.campaign_start_date,end_date:e==null?void 0:e.campaign_end_date,description:e==null?void 0:e.campaign_description,brand_name:e==null?void 0:e.brand_name,location:e==null?void 0:e.target_location,gender:e==null?void 0:e.target_gender,age:e==null?void 0:e.target_age,interest:e==null?void 0:e.target_interest,reach:e==null?void 0:e.reach_goal,impression:e==null?void 0:e.impressions_goal,engagement:e==null?void 0:e.engagement_goal,conversion:e==null?void 0:e.conversion_goal,logo:"",about_us:e==null?void 0:e.about_us,campaign_goal:e==null?void 0:e.campaign_goal,campaign_message:e==null?void 0:e.campaign_message,key_objectives:e==null?void 0:e.campaign_key_objectives,channels:e==null?void 0:e.channels,timeline:e==null?void 0:e.timeline,mood_board:"",target_audience:e==null?void 0:e.target_audience,currency:e==null?void 0:e.currency,influencer_niche:e==null?void 0:e.influencer_niche,influencer_size:e==null?void 0:e.influencer_size,influencer_number:e==null?void 0:e.influencer_number,influencer_gender:e==null?void 0:e.influencer_gender,influencer_location:e==null?void 0:e.influencer_location,influencer_category:e==null?void 0:e.influencer_category}),b=r=>{l(r.target.name,N(r))},D=r=>{if(r.target.files&&r.target.files[0]){l("logo",r.target.files[0]);let s=new FileReader;s.onload=n=>{v(n.target.result)},s.readAsDataURL(r.target.files[0])}};u.exports.useEffect(()=>{d&&h(e.budget)},[]);const P=()=>{if(o==="details"){window.location.href="?tab=contents";return}if(o==="contents"){window.location.href="?tab=influencer";return}o==="influencer"&&T.Inertia.get(route("brief.show",{id:e==null?void 0:e.id}))};function U(r){r.preventDefault(),d?L():I()}const I=async()=>{x(route("brief.store"),{onSuccess:()=>{},onError:()=>{k.error("An error occurred")}})},L=async()=>{x(route("brief.update",{id:e==null?void 0:e.id}),{onSuccess:()=>{P()},onError:()=>{k.error("An error occurred")}})};function y(r){l(r.target.name,N(r));const s=r.target.value;h(s)}const h=r=>{const s=.15*Number(r),n=Number(r)+s;A(n),C(s)};return t.createElement(H,{title:"My Campaigns",smallHeader:!0},t.createElement("div",{className:"bg-white h-screen  mt-3 px-5 mb-10"},t.createElement(G,null),t.createElement("div",{className:"flex  justify-center mx-auto p-5 text-sm bg-gray-50 my-5"},t.createElement("div",{className:"flex space-x-5"},t.createElement("a",{href:"?tab=details",className:"font-bold  text-black  capitalize"},"campaign  details"),t.createElement("span",{className:"text-gray-300"},"|"),t.createElement("a",{href:"?tab=contents",className:w("font-bold  capitalize",o=="contents"||o=="influencer"?" text-black":"text-gray-300")},"content"),t.createElement("span",{className:"text-gray-300"},"|"),t.createElement("a",{href:"?tab=influencer",className:w("font-bold  capitalize",o=="influencer"?" text-black":"text-gray-300")},"influencers  detail"))),t.createElement("form",{onSubmit:U,className:"mt-10  bg-white shadow-sm md:p-5 p-3 w-full"},o=="details"?t.createElement(t.Fragment,null,t.createElement(V,{data:_,campaign:e,onHandleChange:b,setData:l})):o=="influencer"?t.createElement(q,{data:_,campaign:e,onHandleChange:b,setData:l,handleBudget:y,serviceFee:F,total:z}):t.createElement(t.Fragment,null,t.createElement(J,{data:_,campaign:e,onHandleChange:b,setData:l,handleBudget:y,displayFile:D,image:S})),t.createElement("div",{className:"text-center flex space-x-3 mt-4 md:max-w-md"},o=="details"?null:t.createElement(E,{type:"buton",className:"block w-full bg-white text-viralget-red",onClick:()=>B(o=="influencer"?"contents":"details")},"Back"),t.createElement(E,{type:"submit",usePrimary:!0,block:!0,processing:j},o=="details"||o=="contents"?"Next":R)))))}export{Ce as default};

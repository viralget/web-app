import{p as g,r as c,K as me,A as x,U as fe,G as pe,J as ge,R as i}from"./app.a466af73.js";import{B as S}from"./Button.316dc283.js";import{a as I}from"./helpers.d3ba62f0.js";import{V as he}from"./ValidationErrors.6537e4ad.js";import{t as W}from"./Toast.76c83788.js";import{T as ye}from"./TextArea.b7bd8c08.js";import{a as ve}from"./api.c27b3b5d.js";import{a as be,L as Oe}from"./Combination.99a0ef9a.js";import{A as Ce}from"./Avatar.4db74bc0.js";import"./moment.9709ab41.js";import"./Error.83e550df.js";import"./Input.4df9007e.js";import"./Label.e25fdef1.js";import"./female.264b94a6.js";var b={default:"default",full:"full",auto:"auto"},xe={default:"500px",full:"100%",auto:"auto"},K={dialog:"dialog",alertdialog:"alertdialog"},k={closeButton:"closeButton",backdrop:"backdrop",escape:"escape"};function H(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),o.push.apply(o,r)}return o}function p(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?H(Object(o),!0).forEach(function(r){f(e,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):H(Object(o)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))})}return e}function f(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Ee(e){var t={maxWidth:"100%",width:null};return typeof e=="number"?t.width="".concat(e,"px"):b[e]?t.width=xe[e]:typeof e=="string"&&(t.width=e),e===b.full&&(t.alignSelf="stretch"),t}var P=g("div",function(e){var t=e.$isOpen;return{position:"fixed",overflow:"auto",right:0,bottom:0,top:0,left:0,pointerEvents:t?"auto":"none"}});P.displayName="Root";P.displayName="Root";var $=g("div",function(e){var t=e.$animate,o=e.$isOpen,r=e.$isVisible,n=e.$theme,a={transitionProperty:"opacity",transitionDuration:n.animation.timing400,transitionTimingFunction:n.animation.easeOutCurve};return p({display:"flex",alignItems:"center",justifyContent:"center",width:"100%",minHeight:"100%",userSelect:"none",pointerEvents:"auto",backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",opacity:r&&o?1:0},t?a:null)});$.displayName="DialogContainer";$.displayName="DialogContainer";var T=g("div",function(e){var t=e.$animate,o=e.$isOpen,r=e.$isVisible,n=e.$size,a=e.$theme;return p(p(p({position:"relative",backgroundColor:a.colors.backgroundPrimary,borderTopLeftRadius:a.borders.radius500,borderTopRightRadius:a.borders.radius500,borderBottomRightRadius:a.borders.radius500,borderBottomLeftRadius:a.borders.radius500,marginLeft:a.sizing.scale600,marginTop:a.sizing.scale600,marginRight:a.sizing.scale600,marginBottom:a.sizing.scale600},Ee(n)),{},{opacity:r&&o?1:0,transform:r?"translateY(0)":"translateY(20px)"},t?{transitionProperty:"opacity, transform",transitionDuration:a.animation.timing400,transitionTimingFunction:a.animation.easeOutCurve}:null),{},{userSelect:"text",pointerEvents:o?"all":"none",":focus":{outline:"none"}})});T.displayName="Dialog";T.displayName="Dialog";var F=g("button",function(e){var t,o=e.$theme,r=e.$isFocusVisible,n=o.direction==="rtl"?"left":"right";return t={background:"transparent",outline:0,paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,color:o.colors.modalCloseColor,transitionProperty:"color, border-color",transitionDuration:o.animation.timing200,borderLeftWidth:"1px",borderRightWidth:"1px",borderTopWidth:"1px",borderBottomWidth:"1px",borderLeftStyle:"solid",borderRightStyle:"solid",borderTopStyle:"solid",borderBottomStyle:"solid",borderLeftColor:"transparent",borderRightColor:"transparent",borderTopColor:"transparent",borderBottomColor:"transparent",":hover":{color:o.colors.modalCloseColorHover},":focus":{outline:r?"3px solid ".concat(o.colors.accent):"none"},position:"absolute",top:o.sizing.scale500},f(t,n,o.sizing.scale500),f(t,"width",o.sizing.scale800),f(t,"height",o.sizing.scale800),f(t,"display","flex"),f(t,"justifyContent","center"),f(t,"alignItems","center"),f(t,"cursor","pointer"),t});F.displayName="Close";F.displayName="Close";var D=g("div",function(e){var t,o=e.$theme,r=o.direction==="rtl"?"marginRight":"marginLeft",n=o.direction==="rtl"?"marginLeft":"marginRight";return p(p({},o.typography.font550),{},(t={color:o.colors.contentPrimary,marginTop:o.sizing.scale900,marginBottom:o.sizing.scale600},f(t,r,o.sizing.scale800),f(t,n,o.sizing.scale900),t))});D.displayName="ModalHeader";D.displayName="ModalHeader";var L=g("div",function(e){var t=e.$theme;return p(p({},t.typography.font200),{},{color:t.colors.contentSecondary,marginTop:t.sizing.scale600,marginLeft:t.sizing.scale800,marginRight:t.sizing.scale800,marginBottom:t.sizing.scale700})});L.displayName="ModalBody";L.displayName="ModalBody";var B=g("div",function(e){var t=e.$theme;return p(p({},t.typography.font200),{},{marginTop:t.sizing.scale700,marginLeft:t.sizing.scale800,marginRight:t.sizing.scale800,paddingTop:t.sizing.scale500,paddingBottom:t.sizing.scale500,textAlign:t.direction==="rtl"?"left":"right"})});B.displayName="ModalFooter";B.displayName="ModalFooter";function Se(){return c.exports.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",style:{stroke:"currentColor"},xmlns:"http://www.w3.org/2000/svg"},c.exports.createElement("path",{d:"M9 1L5 5M1 9L5 5M5 5L1 1M5 5L9 9",strokeWidth:"2",strokeLinecap:"round"}))}function M(e){return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(e)}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},h.apply(this,arguments)}function E(e,t){return ke(e)||Ne(e,t)||_e(e,t)||we()}function we(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _e(e,t){if(!!e){if(typeof e=="string")return U(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return U(e,t)}}function U(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function Ne(e,t){var o=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(o!=null){var r=[],n=!0,a=!1,s,l;try{for(o=o.call(e);!(n=(s=o.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(m){a=!0,l=m}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw l}}return r}}function ke(e){if(Array.isArray(e))return e}function Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t,o){return t&&Y(e.prototype,t),o&&Y(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},R(e,t)}function $e(e){var t=Fe();return function(){var r=w(e),n;if(t){var a=w(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Te(this,n)}}function Te(e,t){if(t&&(M(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},w(e)}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var Z=function(e){Pe(o,e);var t=$e(o);function o(){var r;Me(this,o);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=t.call.apply(t,[this].concat(a)),d(u(r),"animateOutTimer",void 0),d(u(r),"animateStartTimer",void 0),d(u(r),"dialogContainerRef",c.exports.createRef()),d(u(r),"lastFocus",null),d(u(r),"lastMountNodeOverflowStyle",null),d(u(r),"rootRef",c.exports.createRef()),d(u(r),"state",{isVisible:!1,mounted:!1,isFocusVisible:!1}),d(u(r),"handleFocus",function(l){me(l)&&r.setState({isFocusVisible:!0})}),d(u(r),"handleBlur",function(l){r.state.isFocusVisible!==!1&&r.setState({isFocusVisible:!1})}),d(u(r),"onEscape",function(){!r.props.closeable||r.triggerClose(k.escape)}),d(u(r),"onDocumentClick",function(l){l.target&&l.target instanceof HTMLElement&&l.target.contains(r.dialogContainerRef.current)&&r.onBackdropClick()}),d(u(r),"onBackdropClick",function(){!r.props.closeable||r.triggerClose(k.backdrop)}),d(u(r),"onCloseClick",function(){r.triggerClose(k.closeButton)}),d(u(r),"animateOutComplete",function(){r.setState({isVisible:!1})}),r}return Re(o,[{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"componentWillUnmount",value:function(){this.resetMountNodeScroll(),this.clearTimers()}},{key:"componentDidUpdate",value:function(n,a){var s=this.props.isOpen;(s!==n.isOpen||s&&this.state.mounted&&!a.mounted)&&(s?this.didOpen():this.didClose())}},{key:"disableMountNodeScroll",value:function(){var n=this.getMountNode();this.lastMountNodeOverflowStyle=n.style.overflow||"",n.style.overflow="hidden"}},{key:"resetMountNodeScroll",value:function(){var n=this.getMountNode(),a=this.lastMountNodeOverflowStyle;n&&a!==null&&(n.style.overflow==="hidden"&&(n.style.overflow=a||""),this.lastMountNodeOverflowStyle=null)}},{key:"clearTimers",value:function(){this.animateOutTimer&&clearTimeout(this.animateOutTimer),this.animateStartTimer&&cancelAnimationFrame(this.animateStartTimer)}},{key:"didOpen",value:function(){var n=this,a=this.rootRef.current;a&&(a.scrollTop=0),this.clearTimers(),this.disableMountNodeScroll(),this.animateStartTimer=requestAnimationFrame(function(){n.setState({isVisible:!0})})}},{key:"didClose",value:function(){this.resetMountNodeScroll(),this.animateOutTimer=setTimeout(this.animateOutComplete,500)}},{key:"triggerClose",value:function(n){this.props.onClose&&n&&this.props.onClose({closeSource:n})}},{key:"getSharedProps",value:function(){var n=this.props,a=n.animate,s=n.isOpen,l=n.size,m=n.role,y=n.closeable;return{$animate:a,$isVisible:this.state.isVisible,$isOpen:!!s,$size:l,$role:m,$closeable:!!y,$isFocusVisible:this.state.isFocusVisible}}},{key:"getMountNode",value:function(){var n=this.props.mountNode;return n||document.body}},{key:"getChildren",value:function(){var n=this.props.children;return typeof n=="function"?n():n}},{key:"renderModal",value:function(){var n=this,a=this.props,s=a.overrides,l=s===void 0?{}:s,m=a.closeable,y=a.role,v=a.autoFocus,_=a.focusLock,O=a.returnFocus,q=l.Root,G=l.Dialog,J=l.DialogContainer,Q=l.Close,X=x(q,P),j=E(X,2),ee=j[0],te=j[1],re=x(J,$),z=E(re,2),oe=z[0],ne=z[1],ae=x(G,T),V=E(ae,2),ie=V[0],se=V[1],le=x(Q,F),A=E(le,2),ce=A[0],N=A[1],C=this.getSharedProps(),ue=this.getChildren();return c.exports.createElement(fe.Consumer,null,function(de){return c.exports.createElement(be,{disabled:!_,crossFrame:!1,returnFocus:O,autoFocus:v},c.exports.createElement(ee,h({"data-baseweb":"modal",ref:n.rootRef},C,te),c.exports.createElement(oe,h({ref:n.dialogContainerRef},C,ne),c.exports.createElement(ie,h({tabIndex:-1,"aria-modal":!0,"aria-label":"dialog",role:y},C,se),ue,m?c.exports.createElement(ce,h({"aria-label":de.modal.close,onClick:n.onCloseClick},C,N,{onFocus:pe(N,n.handleFocus),onBlur:ge(N,n.handleBlur)}),c.exports.createElement(Se,null)):null))))})}},{key:"render",value:function(){return!this.state.mounted||!this.props.isOpen&&!this.state.isVisible?null:c.exports.createElement(Oe,{onEscape:this.onEscape,onDocumentClick:this.onDocumentClick,mountNode:this.props.mountNode},this.renderModal())}}]),o}(c.exports.Component);d(Z,"defaultProps",{animate:!0,autoFocus:!0,focusLock:!0,returnFocus:!0,closeable:!0,name:"dialog",isOpen:!1,overrides:{},role:K.dialog,size:b.default});const De=Z;function Le({isOpen:e,large:t,setIsOpen:o,title:r,children:n,action:a,actionText:s,loading:l,containerClass:m=null}){return i.createElement(De,{onClose:()=>o(!1),closeable:!0,isOpen:e,animate:!0,autoFocus:!0,size:t?b.auto:b.default,role:K.dialog},r&&i.createElement(D,null,r),i.createElement(L,null,n),a&&i.createElement(B,null,i.createElement("div",{className:"space-x-5 "},i.createElement(S,{textColor:"black",transparent:!0,onClick:()=>o(!1)},"Cancel"),i.createElement(S,{processing:l,isDark:!0,onClick:a},s!=null?s:"Continue"))))}function Qe({influencer:e,showBanner:t,handleProfile:o,useShadow:r,useLink:n}){var m;const[a,s]=c.exports.useState(!1),l=()=>{n?window.location.href=route("influencer.show",{influencer:e.username}):o()};return e?i.createElement("div",{key:e==null?void 0:e.id,className:`col-span-1 bg-white rounded-lg text-center ${r?"shadow-lg":"border"} overflow-hidden`},t&&i.createElement("div",{className:"bg-gray-500"},e.profile_banner_url&&i.createElement("img",{className:"h-space-131 w-full object-cover",src:e.profile_banner_url,alt:""})),i.createElement("div",{className:`flex flex-1 flex-col p-8 pb-4 ${t&&"-mt-16"}`},i.createElement(Ce,{user:e,size:"large",useIcon:!0}),i.createElement("div",{onClick:()=>l(),className:"mt-2 cursor-pointer flex flex-col"},i.createElement("span",{className:"text-t-xs font-bold "},"@"+e.username," "),i.createElement("span",{className:"text-t-normal  font-medium text-viralget-gray-400"},e.full_name))),i.createElement("div",null,i.createElement("div",{className:"flex justify-between px-space-20 mb-space-20 "},i.createElement("div",{className:"text-center items-center flex-col"},i.createElement("span",{className:"text-t-xs font-bold block"},I(e.followers_count)),i.createElement("span",{className:"text-t-normal  text-viralget-gray-400  font-normal"},"Followers")),i.createElement("div",{className:"text-center items-center flex-col"},i.createElement("span",{className:"text-t-xs font-bold block p-0"},I(e.interactions)),i.createElement("span",{className:"text-t-normal  text-viralget-gray-400  font-normal"},"Interactions")),i.createElement("div",{className:"text-center items-center flex flex-col"},i.createElement("span",{className:"text-t-xs font-bold block p-0"},(m=e.engagement_rate)!=null?m:0),i.createElement("span",{className:"text-t-normal text-viralget-gray-400   font-normal"},"Engagement"))),i.createElement("div",{className:"p-5"},i.createElement(S,{block:!0,onClick:()=>s(!0),usePrimary:!0},"Send Message"))),i.createElement(Le,{isOpen:a,setisOpen:s},i.createElement(Be,{influencer:e.id,showModal:s}))):i.createElement(i.Fragment,null)}function Be(e){const{influencer:t,sendEmail:o}=e,[r,n]=c.exports.useState(null),[a,s]=c.exports.useState(!1),[l,m]=c.exports.useState([]),y=async v=>{v.preventDefault(),s(!0);const _={influencer:t,message:r,send_email:o},O=await ve(route("message.post"),_,!0);O.errors?(m(O.errors),W.error("An error occurred")):(W("Message sent successfully"),e.showModal(!1)),s(!1)};return i.createElement("form",{action:"#",className:"p-5 bg-white",onSubmit:y,method:"POST"},i.createElement(he,{errors:l}),i.createElement("div",{className:"space-y-5"},i.createElement(ye,{value:r,label:"Your message",name:"message",onChange:v=>n(v.target.value),className:"w-full"}),i.createElement(S,{block:!0,usePrimary:!0,processing:a},"Send Message")))}export{Qe as default};

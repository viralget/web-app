import{r as l,R as e}from"./app.9d1f2f92.js";import{E as D}from"./EmptyState.df9926cd.js";import{p as v}from"./api.791927e7.js";import{t as p}from"./Toast.15e4a321.js";import z from"./index.0b3c3ab5.js";import{q as g,W as q}from"./transition.86073da4.js";import{g as O,n as U}from"./helpers.60faec0d.js";import{U as W}from"./UsersIcon.865b3e7a.js";import"./Profile.2ebfaab5.js";import"./moment.9709ab41.js";import"./influencerSize.21abcd2b.js";import"./audienceCard.390da465.js";import"./card.0877b5c2.js";import"./tweetList.2eea181d.js";import"./tweetCard.0e5e0242.js";import"./profiling.198eb30f.js";import"./footer.860a2e32.js";function H({title:s,titleId:c,...n},i){return l.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":c},n),s?l.exports.createElement("title",{id:c},s):null,l.exports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"}))}const Q=l.exports.forwardRef(H),T=Q;function V({type:s,text:c}){return e.createElement(e.Fragment,null,e.createElement("span",{className:"inline-flex items-center rounded-full bg-yellow-100 px-2.5 py-0.5 text-xs font-medium text-yellow-800"},c))}function E({buttonName:s,buttonIcon:c,children:n}){return e.createElement(g,{as:"div",className:"relative inline-block text-left"},e.createElement("div",null,e.createElement(g.Button,{className:"inline-flex w-full  justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50"},e.createElement("div",{className:"flex items-center justify-center"},c),s)),e.createElement(q,{as:l.exports.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95"},e.createElement(g.Items,{className:"absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},n)))}function G({iDisplay:s,handleModal:c,children:n}){return e.createElement(e.Fragment,null,s?e.createElement(e.Fragment,null,e.createElement("div",{className:" flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none"},e.createElement("div",{className:"relative w-auto my-6 mx-auto max-w-3xl"},n)),e.createElement("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})):null)}function $(...s){return s.filter(Boolean).join(" ")}function pe(s){const{count:c,data:n}=s,i=l.exports.useRef(),[u,h]=l.exports.useState(!1),[y,w]=l.exports.useState(!1),[a,b]=l.exports.useState([]);l.exports.useState(!1);const[k,F]=l.exports.useState(!1),[S,C]=l.exports.useState(!1),[j,I]=l.exports.useState([]),[P,M]=l.exports.useState([]),[f,N]=l.exports.useState(!1);function x(){N(!f)}l.exports.useLayoutEffect(()=>{const t=a.length>0&&a.length<n.length;h(a.length===n.length),w(t),i.current&&(i.current.indeterminate=t)},[a]);function A(){b(u||y?[]:n),h(!u&&!y),w(!1)}const L=(t,m)=>{b(t.target.checked?[...a,m]:a.filter(o=>o.id!==m.id))},_=async t=>{var d;t.preventDefault();const o={queryData:new URLSearchParams(window.location.search).toString(),name:P},r=await v(route("influencers.search.store"),o,!0);(d=r==null?void 0:r.data)!=null&&d.status?(p("Search stored successfully!"),F(!0)):p.error("An error occured")};function B(t){t&&(C(!0),I(t))}async function R(){var r;const m={data:a.map(d=>({id:d.id}))},o=await v(route("create.profiling"),m,!0);(r=o==null?void 0:o.data)!=null&&r.status?(N(!f),p.success("Profile saved successfully")):p.error("An error occured")}return e.createElement("div",{className:"mt-3 flex flex-col"},S?e.createElement(z,{influencer:j}):null,e.createElement("div",{className:"inline-block min-w-full align-middle"},e.createElement("div",{className:"relative overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},e.createElement("div",{className:"flex p-4 justify-between align-middle items-center"},e.createElement("div",null,e.createElement("h3",null,c," ",c>0?"Influencers":"Influencer"),e.createElement("div",null,e.createElement(G,{iDisplay:f,handleModal:()=>x()},e.createElement("div",{className:"bg-white p-2  px-4 rounded-md  w-[22rem]"},e.createElement("div",{className:"flex space-x-4 px- py-2 justify-between border-b w-full "},e.createElement("div",{className:"flex flex-col border-r pr-5 "},e.createElement("span",{className:"text-xs font-bold"},"Available to profile "),e.createElement("span",{className:"text-viralget-red text-xs font-bold"},"20 influencers")),e.createElement("div",{className:"flex flex-col"},e.createElement("span",{className:"text-xs font-bold"},"Available to store "),e.createElement("span",{className:"text-viralget-red text-xs font-bold"}," ",a.length," influencers")),e.createElement("div",{className:"flex items-center justify-end ml-5"},e.createElement("button",{onClick:()=>x()},e.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("g",{"clip-path":"url(#clip0_958_50325)"},e.createElement("path",{d:"M13.0625 5L5 13.0625",stroke:"#748094","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"}),e.createElement("path",{d:"M13.0625 13.0625L5 5",stroke:"#748094","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"})),e.createElement("defs",null,e.createElement("clipPath",{id:"clip0_958_50325"},e.createElement("rect",{width:"18",height:"18",fill:"white"}))))))),e.createElement("div",{className:"mt-2 overflow-y-scroll  no-scrollbar flex space-x-2 pb-5 mt-3"},a.slice(0,2).map(t=>e.createElement("div",{className:"bg-[#F5F5F5] px-3 py-1 rounded-md  flex items-center justify-center "},e.createElement("div",{className:"mr-2 w-7 h-7"},e.createElement("img",{className:"w-7 h-7 rounded-full",src:t.profile_photo_url})),e.createElement("span",{className:"text-xs font-bold text-black "},t.username," "))),a.length>2?e.createElement("div",{className:"bg-[#F5F5F5] px-1 py-1 rounded-md w-full flex items-center justify-center "},e.createElement("span",{className:"text-xs font-bold text-black w-[1.5rem]  text-center"},a.length-2+" +"," ")):""),e.createElement("div",{className:"flex justify-center items-center text-center w-full mt-1"},e.createElement("span",{className:"text-xs font-normal"},"will be profiled & added to your profile")),e.createElement("div",{className:"flex  justify-center items-center w-full mt-2 mb-4"},e.createElement("button",{onClick:R,className:"bg-viralget-red py-3  font-bold rounded-md px-4 h-9 text-white  flex items-center text-center"},"Profile influencers")))))),e.createElement("div",null,n.length>0&&e.createElement("div",{className:" top-0 flex  items-center space-x-3 bg-gray-50 sm:left-16"},a.length>0&&e.createElement("button",{type:"button",onClick:()=>x(),className:"inline-flex items-center rounded border border-viralget-red h-9  bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-30"},e.createElement(W,{className:"w-4 h-4 mr-2  text-viralget-red"}),e.createElement("span",{className:"text-viralget-red font-bold"},"  Profile influencers (",a.length,")")),e.createElement(E,{buttonName:a.length>0?"Export "+a.length+" influencers":"Export influencers"},e.createElement("div",{className:"p-3 flex flex-col  justify-center items-center"},e.createElement("span",{className:" mt-2 text-sm"},"Coming soon"))),e.createElement(E,{buttonName:"Export CSV"},e.createElement("div",{className:"p-3 flex  justify-center items-center"},e.createElement("span",{className:"font-normal  text-sm"},"Coming soon"))),!k&&e.createElement(E,{buttonName:"Save Search",ButtonIcon:e.createElement(T,{className:"w-5 h-5 "})},e.createElement("div",{className:"p-3"},e.createElement("form",null,e.createElement("div",null,e.createElement("input",{id:"keywords",name:"keywords",type:"text",onChange:t=>M(O(t)),placeholder:"Enter search name",className:"block w-full shadow px-3 py-3 text-sm  rounded-md border-0 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-0 focus:ring-offset-none"})),e.createElement("div",{className:"w-full mt-3"},e.createElement("button",{onClick:_,className:"bg-[#F5F5F5] w-full p-2 rounded-md"},"Save search")))))))),n.length>0?e.createElement("table",{className:"min-w-full table-fixed divide-y divide-gray-300"},e.createElement("thead",{className:"bg-gray-100"},e.createElement("tr",null,e.createElement("th",{scope:"col",className:"relative w-12 px-6 sm:w-16 sm:px-8"},e.createElement("input",{type:"checkbox",className:"absolute left-4 top-1/2 -mt-2 h-4 w-4 rounded bg-[#3E4555] border-gray-300 text-[#3E4555] focus:[#3E4555] sm:left-6",ref:i,checked:u,onChange:A})),e.createElement("th",{scope:"col",className:"min-w-[12rem] py-3.5 pr-3 text-left text-sm font-semibold text-gray-900"},"Influencer"),e.createElement("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},"Followers"),e.createElement("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},"Quality audience"),e.createElement("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},"ER"),e.createElement("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},"QAS"),e.createElement("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},"Social links"),e.createElement("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},"Category"),e.createElement("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},"Location"))),e.createElement("tbody",{className:"divide-y divide-gray-200 bg-white"},n.map(t=>{var m,o;return e.createElement("tr",{key:t.email,className:a.includes(t)?"bg-gray-50":void 0},e.createElement("td",{className:"relative w-12 px-6 sm:w-16 sm:px-8"},a.includes(t)&&e.createElement("div",{className:"absolute inset-y-0 left-0 w-0.5 bg-gray-900"}),e.createElement("input",{type:"checkbox",className:"absolute left-4 top-1/2 -mt-2 h-4 w-4 rounded  accent-gray-700 sm:left-6",value:t.email,checked:a.includes(t),onChange:r=>L(r,t)})),e.createElement("td",{className:$("whitespace-nowrap py-4 pr-3 text-sm font-medium   cursor-pointer",(a.includes(t),"text-gray-900"))},e.createElement("button",{onClick:()=>B(t)},t.username)),e.createElement("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},U(t.followers_count)),e.createElement("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},"10%"),e.createElement("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},"10%"),e.createElement("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},e.createElement(V,{text:"Good"})),e.createElement("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-blue-400"},e.createElement("a",{href:"https://twitter.com/"+t.username,target:"_blank"},e.createElement("svg",{className:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20"},e.createElement("path",{d:"M6.29 18.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0020 3.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.073 4.073 0 01.8 7.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 010 16.407a11.616 11.616 0 006.29 1.84"})))),e.createElement("td",{className:"whitespace-nowrap px-3 py-4  w-60 text-sm text-gray-500"},e.createElement("div",{className:"flex flex-wrap space-x-3"},((m=t==null?void 0:t.categories)==null?void 0:m.length)>2?e.createElement(e.Fragment,null,t.categories.splice(0,2).map(r=>e.createElement("span",{className:"bg-[#F5F5F5] p-2  text-xs rounded-md"},r.name)),e.createElement("span",{className:"bg-[#F5F5F5] p-2  text-xs rounded-md"},t.categories.length-2," +")):(o=t==null?void 0:t.categories)==null?void 0:o.map(r=>e.createElement("span",{className:"bg-[#F5F5F5] p-2  text-xs rounded-md"},r.name," ")))),e.createElement("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},t.location))}))):e.createElement(D,null))))}export{pe as default};

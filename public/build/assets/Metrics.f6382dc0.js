import{r as a,R as t}from"./app.b8dc28e7.js";import{A as E}from"./AuthenticatedLayout.eaf9c41b.js";import{B as w}from"./ButtonBack.df9492b1.js";import y from"./MetricsHeader.e2424e3d.js";import x from"./Overview.3f39ff2d.js";import L from"./Contributors.f7b2c891.js";import S from"./TweetPerformance.57b66c64.js";import{g as b,p as v}from"./api.1ab407be.js";import{t as A}from"./Toast.e7c9aca9.js";import{E as B}from"./EmptyState.f456df0e.js";import{L as F}from"./Loading.e37fc5be.js";import"./Logo.c71b12f0.js";import"./helpers.1ee73257.js";import"./moment.9709ab41.js";import"./DropdownMenu.6cf1b143.js";import"./Avatar.fe8c7533.js";import"./Button.77051eeb.js";import"./ChevronDownIcon.1228e289.js";import"./transition.5e7d37a2.js";import"./icons.c2716e1a.js";import"./XMarkIcon.68535ac2.js";import"./Bars3CenterLeftIcon.d862e50f.js";import"./MagnifyingGlassIcon.c3782c73.js";import"./use-event-listener.d7048f55.js";import"./card.8ba75417.js";import"./ContributorsCard.e4fa73f6.js";import"./tweetCard.438353d0.js";import"./BoltIcon.2047f22e.js";import"./LottieAnimation.8f83bbdb.js";const M="http://localhost:8002/twitter/",R=async i=>{const e=await b(M+"extract-keywords?keyword="+i);return e.data.status?e.data.data:!1},st=({search:i,result:e,keyword:s,updated_at:l})=>{const[f,m]=a.exports.useState(!0),[u,c]=a.exports.useState(!1),[r,d]=a.exports.useState(e!=null?e:null);a.exports.useEffect(()=>{console.log({metrics:r}),r?(m(!1),c(!0)):n()},[]);const n=async()=>{m(!0);const o=await R(s);o?(d(o),c(!0),g(o)):A.error("Error fetching keyword data"),m(!1)},g=async o=>{const p={result:o,keyword:s},h=await v(route("metrics.campaign.store"),p,!0);console.log({response:h,data:p})};return t.createElement(E,{showSearchForm:!1,smallHeader:!0},t.createElement("div",{className:"bg-white h-screen  mt-3 px-10 mb-10"},f?t.createElement(F,null):u?t.createElement(t.Fragment,null,t.createElement(w,{href:route("track.campaign.page")}),t.createElement(y,{metrics:r,updated_at:l,onRefetch:()=>n()}),t.createElement(x,{metrics:r}),t.createElement(L,{metrics:r}),t.createElement(S,{metrics:r,keyword:s})):t.createElement(B,{title:"An error occurred",subtitle:"We are having troubles fetching data at the moment. Please try again"})))};export{st as default};

import{r as o,R as e}from"./app.4d2f5633.js";import{A as x}from"./AuthenticatedLayout.f4765e0d.js";import{B as y}from"./ButtonBack.4dcd7b71.js";import w from"./MetricsHeader.3482543d.js";import v from"./Overview.7fb63cdb.js";import b from"./Contributors.8a1f7574.js";import S from"./TweetPerformance.6a118a30.js";import{g as L,p as A}from"./api.9d07fcd1.js";import{t as B}from"./Toast.669007d4.js";import{E as F}from"./EmptyState.5aa0ba6b.js";import"./Logo.2dc38a4a.js";import"./helpers.a3aa19f3.js";import"./moment.9709ab41.js";import"./DropdownMenu.ac3445b4.js";import"./Avatar.623cd1a5.js";import"./Button.3ee7282a.js";import"./ChevronDownIcon.ceaa0855.js";import"./transition.8e05f3e9.js";import"./icons.27b37c45.js";import"./XMarkIcon.951910be.js";import"./Bars3CenterLeftIcon.3d4e4cf4.js";import"./MagnifyingGlassIcon.3734d241.js";import"./use-event-listener.c919b4cc.js";import"./card.6cdec217.js";import"./ContributorsCard.bc3fc4a2.js";import"./tweetCard.5656869c.js";import"./BoltIcon.8c688622.js";const M="http://extractor.viralget.io/twitter/",R=async c=>{const t=await L(M+"extract-keywords?keyword="+c);return t.data.status?t.data.data:!1},ae=({search:c,result:t,keyword:s,updated_at:p})=>{const[f,m]=o.exports.useState(!0),[u,i]=o.exports.useState(!1),[r,d]=o.exports.useState(t!=null?t:null);o.exports.useEffect(()=>{console.log({metrics:r}),r?(m(!1),i(!0)):n()},[]);const n=async()=>{m(!0);const a=await R(s);a?(d(a),i(!0),g(a)):B.error("Error fetching keyword data"),m(!1)},g=async a=>{const l={result:a,keyword:s},h=await A(route("metrics.campaign.store"),l,!0);console.log({response:h,data:l})},E=()=>e.createElement("div",{className:"flex flex-col h-full items-center justify-center  space-y-5 "},e.createElement("div",{className:"animate-pulse  bg-viralget-grey  w-40 h-40  rounded-full  text-white   text-center flex items-center justify-center"}," Loading metrics..."));return e.createElement(x,{showSearchForm:!1,smallHeader:!0},e.createElement("div",{className:"bg-white h-screen  mt-3 px-10 mb-10"},f?e.createElement(E,null):u?e.createElement(e.Fragment,null,e.createElement(y,{href:route("track.campaign.page")}),e.createElement(w,{metrics:r,updated_at:p,onRefetch:()=>n()}),e.createElement(v,{metrics:r}),e.createElement(b,{metrics:r}),e.createElement(S,{metrics:r,keyword:s})):e.createElement(F,{title:"An error occurred",subtitle:"We are having troubles fetching data at the moment. Please try again"})))};export{ae as default};

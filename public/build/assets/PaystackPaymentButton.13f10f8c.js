import{R as B}from"./app.a5286dc2.js";import{a as b}from"./api.f37ec366.js";import{c as S}from"./inline.c6606910.js";import{B as _}from"./Button.0729b9af.js";import{t as m}from"./Toast.b71ab449.js";const v=()=>new Date().getTime().toString(),C=({className:f,isLink:R,plan:i,successRedirectsTo:n,type:y,amount:o=0,email:u,metadata:p,paymentVerificationRoute:k,paymentDataExtras:P={},children:t,disabled:l=!1,postPaymentAction:s})=>{const w={key:"pk_live_3c0c5c796849b1f432db34306cd8a23478cd0d7a",email:u,metadata:p,amount:o*100,reference:v()};function g(){new S().newTransaction({...w,onSuccess:e=>{d({reference:e.reference})},onCancel:()=>{}})}const d=async({reference:a})=>{var r;const e={amount:o,plan:i,reference:a,type:y,payment_gateway:"paystack",...P},c=await b(k,e,!0);c.data.status?(m((r=c.data.message)!=null?r:"Payment successful!"),s&&s(a),n&&setInterval(()=>{window.location.href=n},300)):m.error("An error occurred. Please contact admin")};return B.createElement(_,{block:!0,usePrimary:!0,disabled:l,className:f,onClick:()=>{g()}},t!=null?t:"Make Payment")},M=C;export{M as P};

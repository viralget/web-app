import{r,R as e,d as k}from"./app.d049b2b6.js";import{E as C}from"./EmptyState.8acf260d.js";import{B as I}from"./Badge.2fc8ec37.js";import{p as h}from"./api.6967ddd7.js";import{t as d}from"./Toast.46444165.js";function R({title:c,titleId:l,...i},m){return r.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:m,"aria-labelledby":l},i),c?r.exports.createElement("title",{id:l},c):null,r.exports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"}))}const A=r.exports.forwardRef(R),L=A;function B(...c){return c.filter(Boolean).join(" ")}function M({count:c,data:l}){const i=r.exports.useRef(),[m,u]=r.exports.useState(!1),[p,f]=r.exports.useState(!1),[a,g]=r.exports.useState([]),[y,j]=r.exports.useState(!1),[w,b]=r.exports.useState(!1);r.exports.useLayoutEffect(()=>{const t=a.length>0&&a.length<l.length;u(a.length===l.length),f(t),i.current&&(i.current.indeterminate=t)},[a]);function E(){g(m||p?[]:l),u(!m&&!p),f(!1)}const v=(t,s)=>{console.log(t.target.checked,a.filter(n=>n.id!==s.id),s),g(t.target.checked?[...a,s]:a.filter(n=>n.id!==s.id))},N=async t=>{var x;t.preventDefault();const s=new URLSearchParams(window.location.search).toString(),n={queryData:JSON.parse('{"'+decodeURI(s.replace(/&/g,'","').replace(/=/g,'":"'))+'"}'),query:s},o=await h(route("influencers.search.store"),n,!0);(x=o==null?void 0:o.data)!=null&&x.status?(d("Search stored successfully!"),b(!0)):d.error("An error occured")},S=async t=>{var o;t.preventDefault();const s={influencers:a},n=await h(route("campaign.initiate"),s,!0);console.log({response:n}),(o=n==null?void 0:n.data)!=null&&o.status?k.Inertia.get(route("campaigns.create")):d.error("An error occured")};return e.createElement("div",{className:"mt-3 flex flex-col"},e.createElement("div",{className:"inline-block min-w-full align-middle"},e.createElement("div",{className:"relative overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},e.createElement("div",{className:"flex p-4 justify-between align-middle items-center"},e.createElement("div",null,e.createElement("h3",null,c," ",c>0?"Influencers":"Influencer")),l.length>0&&e.createElement("div",{className:" top-0 flex  items-center space-x-3 bg-gray-50 sm:left-16"},e.createElement("button",{type:"button",onClick:S,disabled:a.length==0,className:"inline-flex items-center rounded border border-gray-300 bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-30"},"Create Campaign List"),!w&&e.createElement("button",{type:"button",onClick:N,disabled:y,className:"inline-flex items-center rounded border border-gray-300 bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-30"},e.createElement(L,{className:"w-4 h-4 mr-2"}),"Save Search"))),l.length>0?e.createElement("table",{className:"min-w-full table-fixed divide-y divide-gray-300"},e.createElement("thead",{className:"bg-gray-100"},e.createElement("tr",null,e.createElement("th",{scope:"col",className:"relative w-12 px-6 sm:w-16 sm:px-8"},e.createElement("input",{type:"checkbox",className:"absolute left-4 top-1/2 -mt-2 h-4 w-4 rounded border-gray-300 text-fuchsia-600 focus:ring-indigo-500 sm:left-6",ref:i,checked:m,onChange:E})),e.createElement("th",{scope:"col",className:"min-w-[12rem] py-3.5 pr-3 text-left text-sm font-semibold text-gray-900"},"Influencer"),e.createElement("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},"Follower"),e.createElement("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},"Quality audience"),e.createElement("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},"Engagement Rate"),e.createElement("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},"Rating"),e.createElement("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},"Platform"))),e.createElement("tbody",{className:"divide-y divide-gray-200 bg-white"},l.map(t=>e.createElement("tr",{key:t.email,className:a.includes(t)?"bg-gray-50":void 0},e.createElement("td",{className:"relative w-12 px-6 sm:w-16 sm:px-8"},a.includes(t)&&e.createElement("div",{className:"absolute inset-y-0 left-0 w-0.5 bg-fuchsia-600"}),e.createElement("input",{type:"checkbox",className:"absolute left-4 top-1/2 -mt-2 h-4 w-4 rounded border-gray-300 text-fuchsia-600 focus:ring-indigo-500 sm:left-6",value:t.email,checked:a.includes(t),onChange:s=>v(s,t)})),e.createElement("td",{className:B("whitespace-nowrap py-4 pr-3 text-sm font-medium",a.includes(t)?"text-fuchsia-600":"text-gray-900")},t.username),e.createElement("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},t.followers_count),e.createElement("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},"10%"),e.createElement("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},"10%"),e.createElement("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},e.createElement(I,{text:"Good"})),e.createElement("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-blue-400"},e.createElement("svg",{className:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20"},e.createElement("path",{d:"M6.29 18.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0020 3.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.073 4.073 0 01.8 7.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 010 16.407a11.616 11.616 0 006.29 1.84"}))))))):e.createElement(C,null))))}export{M as default};
